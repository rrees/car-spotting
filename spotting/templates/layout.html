<!DOCTYPE html>

<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
	</head>

	<body>
	{% block navigation %}
	<nav class="navigation-bar">
		<div class="navigation-bar--home">
			<header>
			<h1>Car spotter</h1>
			</header>
		</div>

		<div class="navigation-bar--actions">
			<div class="navigation-bar--actions--login">
					<p><button id="login-button">Login</button></p>
			</div>
		</div>

	</nav>
	{% endblock %}

	{% block content %}
	{% endblock %}

	{% block scripts %}
		<script src="https://cdn.auth0.com/js/lock-passwordless-2.2.min.js"></script>
		<script type="text/javascript">
		var clientID = '{{config.auth0.client_id}}';
		var domain = '{{config.auth0.domain}}';

		const lock = new Auth0LockPasswordless(clientID, domain);

		function open() {
			lock.emailcode({
				callbackURL: '{{callback_url}}',
				authParams: {
				scope: 'openid email'  // Learn about scopes: https://auth0.com/docs/scopes 
				}
			});
		}

		const loginButton = document.getElementById('login-button');
		console.log(loginButton);

		loginButton.addEventListener('click', open);
		</script>

	{% endblock %}
	</body>
</html>